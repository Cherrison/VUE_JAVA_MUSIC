webpackJsonp([1],{"30F2":function(t,e){},"5PYw":function(t,e){},"8xvk":function(t,e){},"8z0T":function(t,e,s){t.exports=s.p+"static/img/back.7431d8a.jpg"},CC4V:function(t,e){},ITUQ:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={data:function(){return{val:"",status:"登录",status_icon:""}},mounted:function(){this.val=localStorage.token||"",this.val?(this.status="退出登录",this.status_icon="el-icon-s-promotion"):(this.status="登录",this.status_icon="el-icon-delete")},methods:{login:function(){this.val?(this.val="",localStorage.token="",this.status="登录",this.status_icon="el-icon-delete",this.logout(),this.$router.push("/index")):this.$router.push("/login")},logout:function(){var t=this;this.$axios.post("logout").then(function(e){200==e.status&&t.$message({message:"退出成功",type:"success"})}).catch(function(t){console.log(t)})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header my"},[s("router-link",{attrs:{to:"/index"}},[t._v("首页")]),t._v(" "),s("router-link",{attrs:{to:"/userCenter/userInfo"}},[t._v("个人中心")]),t._v(" "),s("router-link",{attrs:{to:"/musicList"}},[t._v("音乐列表")]),t._v(" "),s("router-link",{attrs:{to:"/musicplayer"}},[t._v("音乐播放器")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"primary",icon:"{status_icon}"},on:{click:t.login}},[t._v(t._s(t.status))])],1),t._v(" "),s("router-view",{staticClass:"header-top"})],1)},staticRenderFns:[]};var o=s("VU/8")(i,n,!1,function(t){s("gvBj")},null,null).exports,r={name:"App",components:{Home:o}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{staticClass:"margin-header"})],1)},staticRenderFns:[]};var l=s("VU/8")(r,c,!1,function(t){s("nDvb")},null,null).exports,u=s("/ocq"),d={name:"MusicList",data:function(){return{musicsheets:null,loading:!0,isOnline:!0,env:"线下",Loacl:{downloadPicture:"downloadPicture?uuid=",music:"music?md5=",mList:"queryMusicSheets?type=top20"},Online:{downloadPicture:"http://service.uspacex.com/music.server/downloadPicture?uuid=",music:"http://service.uspacex.com/music.server/music?md5=",mList:"http://service.uspacex.com/music.server/queryMusicSheets?type=top20"}}},mounted:function(){this.initMusic(this.Online)},methods:{loadAndPlay:function(t){this.$emit("pls",t)},initMusic:function(t){var e=this;this.loading=!0,this.$axios.get(t.mList).then(function(s){e.musicsheets=s.data.musicSheetList,e.loading=!1;for(var a=e.musicsheets,i=[],n=0;n<a.length;n++){var o=[],r=a[n].musicItems,c=a[n].picture,l=c.indexOf(".");for(var u in c=c.substr(0,l),r){var d={};d.pic=t.downloadPicture+c;var m=r[u].split("-");m.length>1?(d.artist=m[0],d.title=m[1]):(d.artist="无",d.title=r[u]),d.src=t.music+u,o.push(d)}i.push(o)}e.$emit("cgl",i)}).catch(function(t){console.log(t)})},changeEnv:function(){1==this.isOnline?this.isOnline=!1:this.isOnline=!0}},watch:{isOnline:function(t){t?(this.env="线下",this.initMusic(this.Online),console.log("Online")):(this.env="线上",this.initMusic(this.Loacl),console.log("Local"))}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"loading-size",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("div",{staticClass:"container",attrs:{role:"main"}},[s("el-button",{staticClass:"change-env",attrs:{type:"success",round:""},on:{click:t.changeEnv}},[t._v(t._s(t.env))]),t._v(" "),s("div",{staticClass:"mt-3",attrs:{id:"app"}},[s("div",{staticClass:"display-sheet"},t._l(t.musicsheets,function(e,a){return s("div",{key:a,staticClass:"sheet my-3 p-3 bg-white rounded shadow-sm"},[s("h4",{staticClass:"play-name border-bottom border-gray pb-2 mb-1"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.name)+" \n\t\t\t\t\t\t\t"),s("button",{staticClass:"btn btn-info btn-sm play-btn-pos",attrs:{type:"button"},on:{click:function(e){return t.loadAndPlay(a)}}},[t._v("PLAY")])]),t._v(" "),s("p",{staticClass:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},[s("strong",{staticClass:"d-block text-gray-dark"},[t._v("Creator: "+t._s(e.creator))]),t._v(" "),s("strong",{staticClass:"d-block text-gray-dark"},[t._v("Date created: "+t._s(e.dateCreated))])]),t._v(" "),s("table",{staticClass:"table table-sm"},[t._m(0,!0),t._v(" "),s("tbody",t._l(e.musicItems,function(e,a,i){return s("tr",{key:i},[s("td",{staticStyle:{overflow:"hidden"}},[t._v(t._s(e))]),t._v(" "),s("td",[t._v(t._s(a))])])}),0)])])}),0)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("MD5")])])])}]};var h=s("VU/8")(d,m,!1,function(t){s("Ztsa")},"data-v-6fd49b34",null).exports,p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticClass:"back-img",attrs:{src:s("8z0T")}}),this._v(" "),e("h1",{staticStyle:{"text-align":"center",color:"white"}},[this._v("欢迎使用OUC_Music")]),this._v(" "),e("h3",{staticClass:"index-bottom"},[this._v("有时间来听听音乐")]),this._v(" "),e("h4",{staticClass:"index-bottom-b"},[this._v("听听音乐真是一件美好的事")])])}]};var f=s("VU/8")({},p,!1,function(t){s("T722")},null,null).exports,v={data:function(){return{isCollapse:!1}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{staticClass:"tac"},[s("div",{staticClass:"tac-content"},[s("router-view",{staticClass:"content"})],1),t._v(" "),s("el-col",{staticClass:"full",staticStyle:{position:"fixed"},attrs:{span:3}},[s("el-menu",{staticClass:"el-menu-vertical-demo parent full",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#fff",collapse:t.isCollapse,"active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose}},[s("router-link",{attrs:{to:"/userCenter/userInfo"}},[s("el-menu-item",{attrs:{index:"1"}},[s("i",{staticClass:"el-icon-user"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("我的歌单")])])],1),t._v(" "),s("router-link",{attrs:{to:"/userCenter/ilike"}},[s("el-menu-item",{attrs:{index:"2"}},[s("i",{staticClass:"el-icon-star-off"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("我喜欢")])])],1),t._v(" "),s("router-link",{attrs:{to:"/userCenter/createSheet"}},[s("el-menu-item",{attrs:{index:"3"}},[s("i",{staticClass:"el-icon-document"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("创建歌单")])])],1),t._v(" "),s("router-link",{attrs:{to:"/userCenter/setting"}},[s("el-menu-item",{attrs:{index:"4"}},[s("i",{staticClass:"el-icon-setting"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])])],1),t._v(" "),s("el-submenu",{attrs:{index:"5"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",[t._v("更多")])]),t._v(" "),s("el-menu-item-group",[s("template",{slot:"title"},[t._v("待开发一")]),t._v(" "),s("el-menu-item",{attrs:{index:"5-1"}},[t._v("选项1")]),t._v(" "),s("el-menu-item",{attrs:{index:"5-2"}},[t._v("选项2")])],2),t._v(" "),s("el-menu-item-group",{attrs:{title:"待开发2"}},[s("el-menu-item",{attrs:{index:"5-3"}},[t._v("选项3")])],1)],2),t._v(" "),s("el-radio-group",{staticClass:"bottom",model:{value:t.isCollapse,callback:function(e){t.isCollapse=e},expression:"isCollapse"}},[t.isCollapse?s("el-radio-button",{attrs:{label:!1}},[t._v("展开")]):t._e(),t._v(" "),t.isCollapse?t._e():s("el-radio-button",{attrs:{label:!0}},[t._v("收起")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var _=s("VU/8")(v,g,!1,function(t){s("ucih")},null,null).exports,b={name:"MusicList",data:function(){return{musicsheets:null,Looding:"加载中...",loading:!0}},mounted:function(){var t=this;this.$axios.get("queryMusicSheets?type=top20").then(function(e){t.musicsheets=e.data.musicSheetList,t.loading=!1;for(var s=t.musicsheets,a=[],i=0;i<s.length;i++){var n=[],o=s[i].musicItems,r=s[i].picture,c=r.indexOf(".");for(var l in r=r.substr(0,c),o){var u={};u.pic="http://service.uspacex.com/music.server/downloadPicture?uuid="+r;var d=o[l].split("-");d.length>1?(u.artist=d[0],u.title=d[1]):(u.artist="无",u.title=o[l]),u.src="http://service.uspacex.com/music.server/music?md5="+l,n.push(u)}a.push(n)}t.$emit("cgl",a)}).catch(function(t){console.log(t)})},methods:{deleteSheet:function(t){var e=this,s=new URLSearchParams;s.append("sheetId",e.musicsheets[t].id),e.$axios.post("/delSheet",s).then(function(s){console.log(e.musicsheets[t].id),e.musicsheets.splice(t,1),200==s.status&&e.$message({message:"删除成功!",type:"success"})})}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"loading-size",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("div",{staticClass:"container",attrs:{role:"main"}},[s("div",{staticClass:"mt-3"},[s("div",{staticClass:"display-sheet"},t._l(t.musicsheets,function(e,a){return s("div",{key:a,staticClass:"sheet my-3 p-3 bg-white rounded shadow-sm"},[s("h4",{staticClass:"play-name border-bottom border-gray pb-2 mb-1"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.name)+" \n\t\t\t\t\t\t\t"),s("button",{staticClass:"btn btn-info btn-sm play-btn-pos",attrs:{type:"button"},on:{click:function(e){return t.deleteSheet(a)}}},[t._v("Delete")])]),t._v(" "),s("p",{staticClass:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},[s("strong",{staticClass:"d-block text-gray-dark"},[t._v("Date created: "+t._s(e.dateCreated))])]),t._v(" "),s("table",{staticClass:"table table-sm",staticStyle:{"font-size":"15px"}},[t._m(0,!0),t._v(" "),s("tbody",t._l(e.musicItems,function(e,a,i){return s("tr",{key:i},[s("td",{staticStyle:{overflow:"hidden"}},[t._v(t._s(e))]),t._v(" "),s("td",{attrs:{id:"md5"}},[t._v(t._s(a))])])}),0)])])}),0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("MD5")])])])}]};var x=s("VU/8")(b,y,!1,function(t){s("ITUQ")},"data-v-412c4709",null).exports,w={name:"MusicList",data:function(){return{musicsheets:null,loading:!0}},mounted:function(){var t=this;this.$axios.get("http://service.uspacex.com/music.server/queryMusicSheets?type=top20").then(function(e){t.musicsheets=e.data.musicSheetList;t.musicsheets;t.loading=!1}).catch(function(t){console.log(t)})},methods:{loadAndPlay:function(t,e){console.log("Load and Play."+t+"("+e+")"),document.getElementById("musicsource").src="http://service.uspacex.com/music.server/music?md5="+e,document.getElementById("musicplayer").load(),document.getElementById("musicplayer").play();var s=new URLSearchParams;s.append("md5value",e),s.append("name",t),this.$axios.post("/musicPlay",s).then(function(t){console.log(t)})},handleLike:function(t){var e=this,s=new URLSearchParams;s.append("md5value",t),this.$axios.post("/musicLike",s).then(function(t){e.$message({message:"Like成功!",type:"success"}),console.log(t)})}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"musicplayer",controls:""}},[s("source",{attrs:{id:"musicsource",src:"http://service.uspacex.com/music.server/music?md5=77008b41f4c692808ac7b414722269e0",type:"audio/mpeg"}})]),t._v(" "),s("div",{staticClass:"container",attrs:{role:"main"}},[s("el-pagination",{staticStyle:{position:"fixed",right:"40%",bottom:"15vh"},attrs:{id:"info",background:"",layout:"prev, pager, next","page-size":7,total:30}}),t._v(" "),s("div",{staticClass:"display-sheet"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"sheet my-3 p-3 bg-white rounded shadow-sm",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("h4",{staticClass:"border-bottom border-gray pb-2 mb-1",staticStyle:{"margin-top":"3px","text-align":"center"}},[t._v("这里是我喜欢的歌曲啊")]),t._v(" "),t._m(0),t._v(" "),s("table",{staticClass:"table",staticStyle:{overflow:"hidden"}},[t._m(1),t._v(" "),t._l(t.musicsheets,function(e,a){return s("tbody",{key:a},t._l(e.musicItems,function(e,a,i){return s("tr",{key:i},[s("td",{staticStyle:{overflow:"hidden"}},[t._v(t._s(e))]),t._v(" "),s("td",[t._v(t._s(a))]),t._v(" "),s("td",{staticStyle:{display:"flex","justify-content":"space-around"}},[s("el-button",{attrs:{type:"primary",round:"",size:"small"},on:{click:function(s){return t.loadAndPlay(e,a)}}},[t._v("Play")])],1)])}),0)})],2)])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},[e("strong",{staticClass:"d-block text-gray-dark"},[this._v("Status:Play_Online")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("MD5")]),this._v(" "),e("th",[this._v("Operation")])])])}]};var k=s("VU/8")(w,C,!1,function(t){s("bXre")},"data-v-4c21fb0c",null).exports,L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))]),this._v(" "),e("h3",[this._v("我都快复习不完了")]),this._v(" "),e("h5",[this._v(" 啊啊啊! 我凉了")])])},staticRenderFns:[]};var $=s("VU/8")({name:"setting",data:function(){return{msg:"什么你还想要设置界面???"}}},L,!1,function(t){s("8xvk")},"data-v-9cbeaf54",null).exports,S=s("mvHQ"),P=s.n(S),E={data:function(){return{formData:{uuid:"md5md5666611111111",name:"test",creator:"cherry",creatorId:"17090022030",dateCreated:"",picture:"default.png",musicItems:{}},pictureFileList:[],musicFileList:[]}},mounted:function(){},methods:{submit:function(){var t=new URLSearchParams;for(var e in this.formData.dateCreated=(new Date).format("yyyy-MM-dd hh:mm:ss"),this.formData)t.append(e,this.formData[e]);this.$axios.post("sheetUpload",P()(this.formData),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){}).catch(function(t){console.log(t)})},handleExceedPic:function(t,e){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemovePic:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},handleExceedMusic:function(t,e){this.$message.warning("当前限制选择 5 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemoveMusic:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},handleAddPic:function(t,e,s){console.log(e),this.formData.uuid=e.response.uuid,this.formData.picture=this.getExitName(e.name)},handleAddMusic:function(t,e,s){this.formData.musicItems[e.response.uuid]=e.name,console.log(e.response.uuid)},getExitName:function(t){return t.substr(t.indexOf("."))}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-card",{staticClass:"login-card",attrs:{header:"上传歌单___uuid为自动生成"}},[s("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"Creator"}},[s("el-input",{model:{value:t.formData.creator,callback:function(e){t.$set(t.formData,"creator",e)},expression:"formData.creator"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"Picture"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"uploadPicture","before-remove":t.beforeRemovePic,limit:1,"on-success":t.handleAddPic,"on-exceed":t.handleExceedPic,"file-list":t.pictureFileList}},[s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"MiusicItems"}},[s("el-upload",{staticClass:"upload-demo upload",attrs:{action:"uploadMusic","before-remove":t.beforeRemoveMusic,multiple:"",limit:5,"on-success":t.handleAddMusic,"on-exceed":t.handleExceedMusic,"file-list":t.musicFileList}},[s("el-button",{staticStyle:{"margin-left":"10px",float:"left"},attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"info","native-type":"submit"}},[s("i",{staticClass:"el-icon-upload el-icon--right"}),t._v("上传歌单 \n                    ")])],1)],1)],1)],1)},staticRenderFns:[]};var R=s("VU/8")(E,M,!1,function(t){s("Q4Hx")},null,null).exports,U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"jumbotron"},[e("h1",[this._v("MusicList")]),this._v(" "),e("hr",{staticClass:"my-4"}),this._v(" "),e("div",{staticClass:"info"},[e("h2",{staticClass:"display-4"},[this._v("OUC_MUSIC")])]),this._v(" "),e("p",{staticClass:"lead"},[this._v("这里是所有的音乐列表, 希望大家喜欢")])]),this._v(" "),e("div",{staticClass:"top-padding"})])}]};var D=s("VU/8")({},U,!1,function(t){s("SMa6")},null,null).exports,I=s("BO1k"),O=s.n(I),A=s("XLwt"),F={name:"charts",data:function(){return{data:"",rangeList:[]}},mounted:function(){var t=this,e=A.init(this.$refs.chart);e.showLoading(),this.$axios.post("getRange").then(function(s){t.rangeList=s.data.rangeList,console.log(t.rangeList),t.showRangeList(e,t.rangeList),e.hideLoading()}).catch(function(t){console.log(t)})},methods:{handleClick:function(t){},showRangeList:function(t,e){var s=[],a=[],i=!0,n=!1,o=void 0;try{for(var r,c=O()(e);!(i=(r=c.next()).done);i=!0){var l=r.value;s.push(l.name),a.push(l.times)}}catch(t){n=!0,o=t}finally{try{!i&&c.return&&c.return()}finally{if(n)throw o}}for(var u=a[0]+.3*a[0],d=[],m=0;m<a.length;m++)d.push(u);this.data={title:{text:"音乐播放量排行",subtext:"PS: 点击或者滑动鼠标有意想不到的惊喜哦!",left:"center"},xAxis:{data:s,axisLabel:{inside:!0,formatter:function(t){return t.split("").join("\n")},textStyle:{color:"green"}},axisTick:{show:!0},axisLine:{show:!0},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}},dataZoom:[{type:"inside"}],series:[{type:"bar",itemStyle:{color:"rgba(0,0,0,0.05)"},barGap:"-100%",barCategoryGap:"40%",data:d,animation:!1},{type:"bar",itemStyle:{color:new A.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{itemStyle:{color:new A.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:a}]},t.setOption(this.data);t.on("click",function(e){console.log("click chart"),t.dispatchAction({type:"dataZoom",startValue:s[Math.max(e.dataIndex-2,0)],endValue:s[Math.min(e.dataIndex+2,a.length-1)]})})}}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"chart",attrs:{id:"main"},on:{click:this.handleClick}})])},staticRenderFns:[]};var z={name:"MusicList",components:{musicListTitle:D,showRange:s("VU/8")(F,V,!1,function(t){s("CC4V")},"data-v-5cb93994",null).exports},data:function(){return{musicsheets:null,loading:!0}},mounted:function(){var t=this;this.$axios.get("http://service.uspacex.com/music.server/queryMusicSheets?type=top20").then(function(e){t.musicsheets=e.data.musicSheetList;t.musicsheets;t.loading=!1}).catch(function(t){console.log(t)})},methods:{fmtName:function(t){var e=t.indexOf(".");-1!=e&&(t=t.substr(0,e));var s=t.split("-");return s.length>1&&(t=s[1]),t.trim()},loadAndPlay:function(t,e){console.log("Load and Play."+t+"("+e+")"),document.getElementById("musicsource").src="http://service.uspacex.com/music.server/music?md5="+e,document.getElementById("musicplayer").load(),document.getElementById("musicplayer").play();var s=new URLSearchParams;s.append("md5value",e),s.append("name",this.fmtName(t)),this.$axios.post("/musicPlay",s).then(function(t){console.log(t)})},handleLike:function(t){var e=this,s=new URLSearchParams;s.append("md5value",t),this.$axios.post("/musicLike",s).then(function(t){e.$message({message:"Like成功!",type:"success"}),console.log(t)})}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("musicListTitle"),t._v(" "),s("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"musicplayer",controls:""}},[s("source",{attrs:{id:"musicsource",src:"http://service.uspacex.com/music.server/music?md5=77008b41f4c692808ac7b414722269e0",type:"audio/mpeg"}})]),t._v(" "),s("div",{attrs:{role:"main",id:"show-range"}},[s("showRange",{staticStyle:{width:"50vw"}}),t._v(" "),s("div",{staticClass:"display-sheet"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"sheet my-3 p-3 bg-white rounded shadow-sm",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("h4",{staticClass:"border-bottom border-gray pb-2 mb-1",staticStyle:{"margin-top":"3px","text-align":"center"}},[t._v("全部的歌曲都在这里啦")]),t._v(" "),t._m(0),t._v(" "),s("table",{staticClass:"table",staticStyle:{overflow:"hidden"}},[t._m(1),t._v(" "),t._l(t.musicsheets,function(e,a){return s("tbody",{key:a},t._l(e.musicItems,function(e,a,i){return s("tr",{key:i},[s("td",{staticStyle:{overflow:"hidden"}},[t._v(t._s(e))]),t._v(" "),s("td",[t._v(t._s(a))]),t._v(" "),s("td",{staticStyle:{display:"flex","justify-content":"space-around"}},[s("el-button",{attrs:{type:"primary",round:"",size:"small"},on:{click:function(s){return t.loadAndPlay(e,a)}}},[t._v("Play")]),t._v(" "),s("el-button",{attrs:{type:"danger",round:"",size:"small"},on:{click:function(e){return t.handleLike(a)}}},[t._v("Like")])],1)])}),0)})],2)])])],1),t._v(" "),s("el-pagination",{staticStyle:{position:"fixed",right:"5%",top:"30vh"},attrs:{id:"info",background:"",layout:"prev, pager, next","page-size":7,total:30}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},[e("strong",{staticClass:"d-block text-gray-dark"},[this._v("Status:Play_Online")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("MD5")]),this._v(" "),e("th",[this._v("Operation")])])])}]};var N=s("VU/8")(z,T,!1,function(t){s("30F2")},null,null).exports,j=s("Ixwk"),B=s.n(j),G={name:"",components:{aplayer:B.a,musicListBody:h},data:function(){return{control_mini:"最小化",ismini:!1,playData:[],music:{title:"阴天快乐",artist:"陈奕迅",src:"https://www.cheery.pro/music/565b_515b_0109_a1aa02bb57f1bdf722e06c29a5be07d5.m4a",pic:"http://service.uspacex.com/music.server/downloadPicture?uuid=2a2fa72e16c640d6a1e23a5cce67e98d"},alist:[{title:"阴天快乐",artist:"陈奕迅",url:"https://www.cheery.pro/music/565b_515b_0109_a1aa02bb57f1bdf722e06c29a5be07d5.m4a",pic:"http://p1.music.126.net/EES1U3UVWUdt_tHyiY8XAw==/5962651557619306.jpg?param=130y130"},{title:"インドア系ならトラックメイカ",artist:"Yunomi",url:"https://www.cheery.pro/music/5409_055a_530f_cc9d71fe0820fe8fc2b4dece9cd01d8d.m4a",pic:"http://p2.music.126.net/Ez-_OKKKzKsSXzDY15hwTw==/3394192418636766.jpg?param=130y130"},{title:"飘向远方",artist:"黄明志 / G.E.M.邓紫棋",url:"https://www.cheery.pro/music/7993fdff33153cf32e42e2f441502a0a.mp3",pic:"http://p2.music.126.net/v7XfwRk13PWu0SN30UDSjg==/109951163137495030.jpg?param=130y130"}]}},methods:{changeMini:function(){1==this.ismini?this.ismini=!1:this.ismini=!0},changeList:function(t){this.playData=t},playSheet:function(t){console.info(this.alist),console.info(this.alist),this.alist=this.playData[t],this.music=this.alist[0],console.info(this.alist)}},watch:{ismini:function(t){this.control_mini=t?"恢复":"最小化"}}},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"text-align":"center"}},[t._m(0),t._v(" "),s("div",{staticClass:"music-container container "},[s("aplayer",{attrs:{music:t.music,list:t.alist,mini:t.ismini}})],1),t._v(" "),s("el-button",{attrs:{type:"info",round:""},on:{click:t.changeMini}},[t._v(t._s(t.control_mini))]),t._v(" "),s("div",{staticClass:"music-list"},[s("musicListBody",{on:{cgl:t.changeList,pls:t.playSheet}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title center-align"},[e("i",{staticClass:"play-title fa fa-music"}),this._v("  听听音乐\n    ")])}]};var Y=s("VU/8")(G,X,!1,function(t){s("5PYw")},null,null).exports,q=s("Xxa5"),H=s.n(q),Z=s("exGp"),Q=s.n(Z),K={data:function(){return{username:"oucouc",password:"oucouc"}},mounted:function(){this.$message("请先登录")},methods:{login:function(){var t=this;return Q()(H.a.mark(function e(){var s,a,i;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.username<3||t.password.length<3)){e.next=3;break}return t.$message({message:"输入不合法",type:"error"}),e.abrupt("return");case 3:return s=new URLSearchParams,t,s.append("username",t.username),s.append("password",t.password),a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=10,t.$axios.post("login",s,a);case 10:i=e.sent;try{200===i.status?(t.$message({message:"登录成功",type:"success"}),localStorage.token=!0,t.$router.push("/index")):console.log(i.status)}catch(t){console.log("登录出错了")}case 12:case"end":return e.stop()}},e,t)}))()},register:function(){this.$router.push("/register")},back:function(){this.$router.go(-1)}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("el-card",{staticClass:"login-card",attrs:{header:"请先登录"}},[s("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v(" 登录 ")]),t._v(" "),s("el-button",{attrs:{type:"info"},on:{click:t.register}},[t._v(" 没有账户 ")]),t._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:t.back}},[t._v(" 取消 ")])],1)],1)],1)],1)},staticRenderFns:[]};var J=s("VU/8")(K,W,!1,function(t){s("yf0I")},null,null).exports,tt={data:function(){return{username:"",password:"",passwordAgain:""}},mounted:function(){this.$message("欢迎注册")},methods:{register:function(){var t=this;return Q()(H.a.mark(function e(){var s,a,i;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.username<3||t.password.length<3)){e.next=3;break}return t.$message({message:"输入不合法",type:"error"}),e.abrupt("return");case 3:if(t.passwordAgain==t.password){e.next=6;break}return t.$message({message:"两次输入密码不一致",type:"error"}),e.abrupt("return");case 6:return s=new URLSearchParams,t,s.append("username",t.username),s.append("password",t.password),a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=13,t.$axios.post("register",s,a);case 13:i=e.sent;try{200===i.status?(t.$message({message:"注册成功",type:"success"}),localStorage.token=!0,t.$router.push("/index")):console.log(i.status)}catch(t){console.log("登录出错了")}case 15:case"end":return e.stop()}},e,t)}))()},back:function(){this.$router.go(-1)}}},et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("el-card",{staticClass:"login-card",attrs:{header:"注册账号"}},[s("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{"show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"再次输入密码"}},[s("el-input",{attrs:{"show-password":""},model:{value:t.passwordAgain,callback:function(e){t.passwordAgain=e},expression:"passwordAgain"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v(" 注册 ")]),t._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:t.back}},[t._v(" 取消 ")])],1)],1)],1)],1)},staticRenderFns:[]};var st=s("VU/8")(tt,et,!1,function(t){s("rYfL")},null,null).exports,at=s("XLwt"),it={name:"charts",data:function(){return{data:"",rangeList:[]}},mounted:function(){var t=this,e=at.init(this.$refs.chart);e.showLoading(),this.$axios.post("getRange").then(function(s){t.rangeList=s.data.rangeList,console.log(t.rangeList),t.showRangeList(e,t.rangeList),e.hideLoading()}).catch(function(t){console.log(t)})},methods:{handleClick:function(t){},showRangeList:function(t,e){var s=[],a=[],i=!0,n=!1,o=void 0;try{for(var r,c=O()(e);!(i=(r=c.next()).done);i=!0){var l=r.value;s.push(l.name),a.push(l.times)}}catch(t){n=!0,o=t}finally{try{!i&&c.return&&c.return()}finally{if(n)throw o}}for(var u=a[0]+.3*a[0],d=[],m=0;m<a.length;m++)d.push(u);this.data={title:{text:"音乐播放量排行",subtext:"这里是大家喜欢的音乐"},xAxis:{data:s,axisLabel:{inside:!0,formatter:function(t){return t.split("").join("\n")},textStyle:{color:"green"}},axisTick:{show:!0},axisLine:{show:!0},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}},dataZoom:[{type:"inside"}],series:[{type:"bar",itemStyle:{color:"rgba(0,0,0,0.05)"},barGap:"-100%",barCategoryGap:"40%",data:d,animation:!1},{type:"bar",itemStyle:{color:new at.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{itemStyle:{color:new at.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:a}]},t.setOption(this.data);t.on("click",function(e){console.log("click chart"),t.dispatchAction({type:"dataZoom",startValue:s[Math.max(e.dataIndex-2,0)],endValue:s[Math.min(e.dataIndex+2,a.length-1)]})})}}},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"chart",attrs:{id:"main"},on:{click:this.handleClick}})])},staticRenderFns:[]};var ot=s("VU/8")(it,nt,!1,function(t){s("cEi6")},"data-v-2deb40c4",null).exports;a.default.use(u.a);var rt=new u.a({routes:[{path:"/",name:"Main",component:o,children:[{path:"userCenter",name:"userCenter",component:_,children:[{path:"userInfo",name:"userInfo",component:x},{path:"createSheet",name:"createSheet",component:R},{path:"iLike",name:"iLike",component:k},{path:"setting",name:"setting",component:$}]},{path:"/musicList",name:"musicList",component:N,meta:{isPublic:!0}},{path:"/musicplayer",name:"musicplayer",component:Y,children:[{path:"musicList",name:"musicList",component:h}],meta:{isPublic:!0}},{path:"/index",name:"index",component:f,meta:{isPublic:!0}}]},{path:"/login",name:"login",component:J,meta:{isPublic:!0}},{path:"/register",name:"register",component:st,meta:{isPublic:!0}},{path:"/rangeTest",name:"rangeTest",component:ot,meta:{isPublic:!0}}]});rt.beforeEach(function(t,e,s){if(!t.meta.isPublic&&!localStorage.token)return s("/login");s()});var ct=rt,lt=s("mtWM"),ut=s.n(lt),dt=(s("e0XP"),s("tvR6"),s("zL8q")),mt=s.n(dt);ut.a.defaults.baseURL="http://localhost:8080",ut.a.interceptors.response.use(function(t){return t},function(t){t.response.data.message&&a.default.prototype.$message({type:"error",message:t.response.data.message})}),Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t},a.default.prototype.$axios=ut.a,a.default.prototype.$message=mt.a.Message,a.default.config.productionTip=!1,a.default.use(B.a),a.default.use(mt.a),new a.default({el:"#app",router:ct,components:{App:l},template:"<App/>"})},Q4Hx:function(t,e){},SMa6:function(t,e){},T722:function(t,e){},Ztsa:function(t,e){},bXre:function(t,e){},cEi6:function(t,e){},e0XP:function(t,e){},gvBj:function(t,e){},nDvb:function(t,e){},rYfL:function(t,e){},tvR6:function(t,e){},ucih:function(t,e){},yf0I:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map
